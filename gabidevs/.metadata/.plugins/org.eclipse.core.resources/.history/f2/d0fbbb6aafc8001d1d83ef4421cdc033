package br.edu.up.util;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Formatter;
import java.util.Scanner;

import br.edu.up.entidades.Produto;

public class Programa {
	
	public static void main(String[] args) throws FileNotFoundException {
		
		String arquivoOrigem = "C:\\_src\\gabidevs\\ExercicioFixacao\\grupos-tabulados.txt";
		
		File arquivo = new File(arquivoOrigem);
		Scanner leitor = new Scanner(arquivo);
		
	/*	String arquivoDestino ="C:\\_src\\gabidevs\\EntidadesExemplo\\src\\destino.csv"; 
		Formatter gravador = new Formatter(arquivoDestino);
		*/
		Produto[] vetorDeProdutos = new Produto[73]; // o 4 ta ali pq sabemos q só tem dois produtos || com esse vetor de produtos vc pode manipular melhor
		
		int index = 0;
		
		while(leitor.hasNextLine()) {
			String linha = leitor.nextLine();
			String[] valores = linha.split(";"); /*vai quebrar a linha em cada ; que tiver */
			
			Produto produto = new Produto();
	
			produto.nome = valores[1];
			produto.preco = Double.parseDouble(valores[73]);
			vetorDeProdutos[index] = produto;
			index++;
			
			System.out.println(index);
		}
		
		int quantidade = 0;
		double totalProdutos = 0;
		
		for (int i = 0; i < vetorDeProdutos.length; i++) {
			
			Produto produto = vetorDeProdutos[i];
			
			System.out.println("Produto");
			System.out.println("Nome: "+produto.nome);
			System.out.println("Preço: "+produto.preco);
			System.out.println();
			
			gravador.format("Produto");
			gravador.format("Nome: "+produto.nome);
			gravador.format("Preço: "+produto.preco);
	
			quantidade++;
			totalProdutos += produto.preco;
		}
		
		System.out.println("Quantidade dos Produtos: "+quantidade);
		System.out.println("Total dos Preços: "+totalProdutos);
		
		leitor.close();
		gravador.close();
	}

}
